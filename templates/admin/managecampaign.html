{% include "admin/header.html" %}

<main id="main" class="main">

  <div class="pagetitle">
    <h1>{{ rows[1] }}</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/admin/">Home</a></li>
        <li class="breadcrumb-item active">Dashboard</li>
      </ol>
    </nav>
  </div><!-- End Page Title -->

  <section class="section contact">

    <div class="row gy-4">

      <div class="col-xl-12">

        <div class="card p-4" style="padding-top: 5px !important;">
          <p class="card-title" style="font-size: 24px;padding-bottom:0px">{{
            rows[1] }}</p>

          <h6><i class="bi bi-calendar-fill"></i> {{ rows[2] }}
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="bi bi-clock-fill"></i> {{ rows[3]
            }}:00 hr - {{ rows[4] }}:00 hr</h6>
          <h5>Designation : <b>{{ rows[6] }} </b></h5>

        </div>

      </div>

    </div>

    <div class="pagetitle">
      <h1></h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">{{ rows[1] }}</a></li>
          <li class="breadcrumb-item active">Candidates</li>
        </ol>
      </nav>
    </div>

    <div class="row gy-4">

      <div class="col-xl-6">

        <div class="card p-4" style="padding-top: 5px !important;">
          <p class="card-title">Add Candidate</p>
          <form action="/addcandidate" method="post" enctype="multipart/form-data">
            <div class="row gy-4">

              <div class="col-md-12">
                <input type="text" name="admno" class="form-control" placeholder="Admission Number" required>
              </div>

              <input type="hidden" class="form-control" name="id" value="{{ rows[0] }}" placeholder="Candidate Email"
                required>

              <div class="col-md-12">

                <input type="file" class="form-control" name="symbol" placeholder="Subject" required>

              </div>

              <div class="col-md-12 text-center">

                <button type="submit" class="btn btn-primary">Add Candidate</button>
              </div>

            </div>
          </form>
        </div>

      </div>

      <div class="col-xl-6">

        <div class="row">
          <div class="col-lg-12">

            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Candicate List</h5>

                <!-- Table with stripped rows -->
                <table class="table datatable">
                  <thead>
                    <tr>
                      <th scope="col">Symbol</th>
                      <th scope="col">Name</th>
                      <th scope="col">Admno</th>
                      <th scope="col">Email</th>

                    </tr>
                  </thead>
                  <tbody>
                    <!-- {{c}} -->
                    {% for row in c:%}

                    <tr>
                      <td><img height="30px" src={{ url_for('static', filename='symbols/' +row[-2])}}></td>
                      <td>{{ row[3]+" "+row[4] }}</td>
                      <td>{{ row[2] }}</td>
                      <td>{{ row[1] }}</td>

                    </tr>

                    {% endfor %}

                  </tbody>
                </table>
                <!-- End Table with stripped rows -->

              </div>
            </div>

          </div>

        </div>

      </div>

    </div>

    <div class="pagetitle">
      <h1></h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">{{ rows[1] }}</a></li>
          <li class="breadcrumb-item active">Voters List</li>
        </ol>
      </nav>
    </div>

    <div class="row gy-4">

      <div class="col-xl-6">

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Add Voters</h5>

            <!-- Bordered Tabs Justified -->
            <ul class="nav nav-tabs nav-tabs-bordered d-flex" id="borderedTabJustified" role="tablist">
              <li class="nav-item flex-fill" role="presentation">
                <button class="nav-link w-100 active" id="home-tab" data-bs-toggle="tab" data-bs-target="#bordered-justified-home" type="button" role="tab" aria-controls="home" aria-selected="true">Admission Number</button>
              </li>
              <li class="nav-item flex-fill" role="presentation">
                <button class="nav-link w-100" id="profile-tab" data-bs-toggle="tab"
                  data-bs-target="#bordered-justified-profile" type="button" role="tab" aria-controls="profile"
                  aria-selected="false">File Upload</button>
              </li>

            </ul>
            <div class="tab-content pt-2" id="borderedTabJustifiedContent">
              <div class="tab-pane fade show active" id="bordered-justified-home" role="tabpanel"
                aria-labelledby="home-tab">
                <div class="container">
                  <p>Enter the Admission Number</p>
                  <form action="/addvoter" method="post">
                    <div class="row gy-4">

                      <div class="col-md-12">
                        <input type="text" name="admno" pattern="[0-9]{2}[A-Za-z]{2}[0-9]{3}" maxlength="15"
                          class="form-control" placeholder="Admission Number" required>
                      </div>

                      <input type="hidden" class="form-control" name="id" value="{{ rows[0] }}"
                        placeholder="Candidate Email" required>

                      <div class="col-md-12 text-center">

                        <button type="submit" class="btn btn-primary">Add Voters</button>
                      </div>

                    </div>
                  </form>
                </div>
              </div>

              <div class="tab-pane fade" id="bordered-justified-profile" role="tabpanel" aria-labelledby="profile-tab">
                <div class="container">

                  <div class="row pb-2">
                    <div class="col-md-8">
                      <h5>Upload the File</h5>
                    </div>
                    <div class="col-md-4"><a href="{{ url_for('static', filename = 'assets/voterslist_template.csv')}}" class="btn btn-primary btn-sm">Download Template</a></div>
                  </div>
                  <form action="/addvoterfile" method="post" enctype="multipart/form-data">
                    <div class="row gy-4">

                      <div class="col-md-12">
                        <input type="file" name="csv" class="form-control" placeholder="Admission Number" required>
                      </div>

                      <input type="hidden" class="form-control" name="id" value="{{ rows[0] }}"
                        placeholder="Candidate Email" required>

                      <div class="col-md-12 text-center">

                        <button type="submit" class="btn btn-primary">Add Voters</button>
                      </div>

                    </div>
                  </form>
                </div>
              </div>

            </div><!-- End Bordered Tabs Justified -->

          </div>
        </div>

      </div>

      <div class="col-xl-6">

        <div class="row">
          <div class="col-lg-12">

            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Voters List</h5>

                <!-- Table with stripped rows -->
                <table class="table datatable">
                  <thead>
                    <tr>

                      <th scope="col">Name</th>
                      <th scope="col">Admno</th>
                      <th scope="col">Email</th>

                    </tr>
                  </thead>
                  <tbody>
                    {% for row in voters:%}

                    <tr>
                      <td>{{ row[3]+" "+row[4] }}</td>
                      <td>{{ row[2] }}</td>
                      <td>{{ row[1] }}</td>

                    </tr>

                    {% endfor %}

                  </tbody>
                </table>
                <!-- End Table with stripped rows -->

              </div>
            </div>

          </div>

        </div>

      </div>

    </div>

  </section>

</main><!-- End #main -->

{% include "admin/footer.html" %}